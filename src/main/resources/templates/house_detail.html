<!-- /*
* Template Name: Property
* Template Author: Untree.co
* Template URI: https://untree.co/
* License: https://creativecommons.org/licenses/by/3.0/
*/ -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="Untree.co" />
  <link rel="shortcut icon" th:href="@{/favicon02.png}" />

  <meta name="description" content="" />
  <meta name="keywords" content="bootstrap, bootstrap5" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <!-- thymleaf로 상대경로 설정해주기(/detail/~ 로 요청되는 css 경로 수정) -->
  <link rel="stylesheet" th:href="@{/fonts/icomoon/style.css}" />
  <link rel="stylesheet" th:href="@{/fonts/flaticon/font/flaticon.css}" />

  <link rel="stylesheet" th:href="@{/css/tiny-slider.css}" />
  <link rel="stylesheet" th:href="@{/css/aos.css}" />
  <link rel="stylesheet" th:href="@{/css/style.css}" />

  <title>
    쉐어하우스
  </title>
</head>

<body>
  <div class="site-mobile-menu site-navbar-target">
    <div class="site-mobile-menu-header">
      <div class="site-mobile-menu-close">
        <span class="icofont-close js-menu-toggle"></span>
      </div>
    </div>
    <div class="site-mobile-menu-body"></div>
  </div>

  <nav class="site-nav">
    <div class="container">
      <div class="menu-bg-wrap">
        <div class="site-navigation">
          <a href="/" class="logo m-0 float-start">Share House</a>

          <ul class="js-clone-nav d-none d-lg-inline-block text-start site-menu float-end">
            <div th:if="${isLoggedIn}" class="mb-3">
              <a href="#">반갑습니다, <span th:text="${userName}"></span>님</a>
              <a href="/logout">로그아웃</a>
            </div>
            <div th:if="${!isLoggedIn}" class="mb-3">
              <a href="/login">로그인</a>
              <a href="/signup">회원가입</a>
            </div>
            <li class="active"><a href="/">메인화면</a></li>
            <li><a href="/register">쉐어하우스 등록</a></li>
            <li><a href="/search">쉐어하우스 조회</a></li>
            <li class="has-children">
              <a href="#">마이페이지</a>
              <ul class="dropdown">
                <li><a href="/mypage_registration">등록한 쉐어하우스</a></li>
                <li><a href="/mypage_reservation">예약한 쉐어하우스</a></li>
              </ul>
            </li>
          </ul>

          <a href="#"
            class="burger light me-auto float-end mt-1 site-menu-toggle js-menu-toggle d-inline-block d-lg-none"
            data-toggle="collapse" data-target="#main-navbar">
            <span></span>
          </a>
        </div>
      </div>
    </div>
  </nav>

  <div class="hero hero-smaller overlay" th:style="'background-image: url(' + @{${houseInfo.img_url_list[0]}} + ')'">
    <div class="container">
      <div class="row justify-content-center align-items-center">
        <div class="col-lg-9 text-center mt-5">
          <h1 class="heading" data-aos="fade-up" th:text="${houseInfo.houseName}">
          </h1>
        </div>
      </div>
    </div>
  </div>
  <!-- 보증금 / 월세 아래쪽 mb-4 간격주기, 글자 크기 키울 수 있으면 키우기-->
  <div class="section">
    <div class="container">
      <div class="row justify-content-between">
        <div class="col-lg-7">
          <div class="img-property-slide-wrap">
            <div class="img-property-slide">>
              <img th:each="imgUrl : ${houseInfo.img_url_list}" th:src="@{${imgUrl}}" alt="Image" class="img-fluid" />
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <h2 class="heading text-primary" th:text="${houseInfo.houseName}"></h2>
          <p class="meta fs-5"
            th:text="${houseInfo.firstAddr + ' ' + houseInfo.secondAddr + ' ' + houseInfo.thirdAddr + ' ' + houseInfo.fourthAddr}">
          </p>
          <p class="meta fs-4"
            th:text="${'보증금 ' + houseInfo.houseDeposit + '만 / 월세 ' + houseInfo.houseMonthly_rent + '만'}"></p>
          <div class="specs d-flex mb-1">
          </div>
          <p class="text-black-50" th:text="${houseInfo.houseDescription}">
          </p>
          <span class="d-block d-flex align-items-center me-3">
            <span class="icon-home me-2"></span>
            <span class="caption" th:text="${houseInfo.houseArea + 'm²'}"></span>
          </span>
          <span class="d-block d-flex align-items-center">
            <span class="icon-person me-2"></span>
            <span class="caption" th:text="${houseInfo.housePerson_count + '명'}"></span>
          </span>
          <!-- // 시간 남으면 완성하기
          <div class="d-block agent-box p-5">
            <div class="text">
              <h3 class="mb-0">123</h3>
              <div class="meta mb-3">456</div>
              <p>
                지도 api
              </p>
            </div>
          </div>
          -->
          <form th:action="@{/reserve}" method="post">
            <input type="hidden" name="houseId" th:value="${houseInfo.houseId}" />
            <button type="submit" class="btn btn-primary py-2 px-5 mt-3">예약하기</button>
          </form>
          <div th:if="${reservations != null}">
            <h2 class="heading text-primary mt-5">하우스 예약 현황</h2>
            <div class="d-block agent-box p-3" th:each="reservation : ${reservations}">
              <p>예약 유저 이름: <span th:text="${reservation.userName}"></span></p>
              <p>예약 일시: <span th:text="${reservation.reservationDate}"></span></p>
              <p>예약 유저 핸드폰 번호: <span th:text="${reservation.userPhone}"></span></p>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <div class="site-footer">
    <div class="container">
      <!-- /.row -->
      <div class="row mt-5">
        <div class="col-12 text-center">
          <!-- 
              **==========
              NOTE: 
              Please don't remove this copyright link unless you buy the license here https://untree.co/license/  
              **==========
            -->

          <p>
            Copyright &copy;
            <script>
              document.write(new Date().getFullYear());
            </script>
            . All Rights Reserved. &mdash; Designed with love by
            <a href="https://untree.co">Untree.co</a>
            <!-- License information: https://untree.co/license/ -->
          </p>
        </div>
      </div>
    </div>
    <!-- /.container -->
  </div>
  <!-- /.site-footer -->

  <!-- Preloader -->
  <div id="overlayer"></div>
  <div class="loader">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <!-- thymleaf로 상대경로 설정해주기 -->
  <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
  <script th:src="@{/js/tiny-slider.js}"></script>
  <script th:src="@{/js/aos.js}"></script>
  <script th:src="@{/js/navbar.js}"></script>
  <script th:src="@{/js/counter.js}"></script>
  <script th:src="@{/js/custom.js}"></script>
</body>

</html>